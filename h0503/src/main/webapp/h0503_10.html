<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>공공데이터 api 가져오기</title>
	<script src="http://code.jquery.com/jquery-latest.min.js"></script>
	<script>
	$(function(){
		$('#ajaxBtn').click(function(){
			$.ajax({
				url: "https://apis.data.go.kr/B551011/PhotoGalleryService1/galleryList1?serviceKey=8CfuxHPeNks82sugbCsk8g8NbzNuom01bOZQybNZfkJpCSoT4OZK0tIm4V7sjBZX1YbjfaTOxEBhQzrIEBvikg%3D%3D&numOfRows=10&pageNo=1&MobileOS=ETC&MobileApp=AppTest&arrange=A&_type=json",
				dataType:'json',
				success: function(data){
					//alert('성공');
					//console.log(data)
					//console.log(data.response.body.items.item[0])
					
					var lists = data.response.body.items.item;
					
					console.log(lists.length);//10
					
					var str='';
					for(let i=0; i<lists.length;i++){
						
						str+= '<tr><td>'+lists[i].galContentId+'</td>';
						str+= '<td>'+lists[i].galPhotographyMonth+'</td>';
						str+= '<td>'+lists[i].galPhotographyLocation+'</td>';
						str+= '<td>'+lists[i].galTitle+'</td>';
						str+= '<td><img src="'+lists[i].galWebImageUrl+'"></td></tr>';
						
						console.log(lists[i].galContentId);
						console.log(lists[i].galPhotographyMonth);
						console.log(lists[i].galPhotographyLocation);
						console.log(lists[i].galTitle);
						console.log(lists[i].galWebImageUrl);
					}//for문
					$('#tbody').html(str);
					// 번호 촬영일자 촬영지 제목 링크
					// galContentId
					// galPhotographyMonth
					// galPhotographyLocation
					// galTitle
					// galWebImageUrl
					
				},
				error: function(){
					alert('실패');
				}
			})//ajax
		})//#ajaxBtn 눌렀을때
		
	})//jquery
	</script>
	<style>
		div{width:1100px; margin: 0 auto; }
		#ajaxBtn{width:200px; height: 50px; margin: 50px 0 30px 0;
				cursor:pointer;}
		table, th, td{border:1px solid black; border-collapse:collapse;
			width: 1100px; margin-top:50px; margin:0 auto; 
			text-align:center;}
		th,td{height:30px;}
		th{background:#efefef;}
		img{width:50px;}
	</style>
</head>
<body>
	
	<div>
		<button id="ajaxBtn">공공api연결</button>
	</div>
	<table>
		<tr>
			<th>번호</th>
			<th>촬영일자</th>
			<th>촬영지</th>
			<th>제목</th>
			<th>링크</th>
		</tr>
		<tbody id="tbody">
			<tr>
				<td></td>
				<td></td>
				<td></td>
				<td></td>
				<td></td>
			</tr>
		</tbody>
	</table>
	
		
</body>
</html>